"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[5117],{4474(e,n,d){d.r(n),d.d(n,{assets:()=>t,contentTitle:()=>c,default:()=>x,frontMatter:()=>i,metadata:()=>s,toc:()=>h});const s=JSON.parse('{"id":"config/environment","title":"\ud658\uacbd \uc124\uc815","description":"TensorFlow\uc758 \ud658\uacbd \ubcc0\uc218, \ube4c\ub4dc \uad6c\uc131, \ub7f0\ud0c0\uc784 \uc124\uc815\uc744 \uc124\uba85\ud569\ub2c8\ub2e4.","source":"@site/docs/config/environment.md","sourceDirName":"config","slug":"/config/environment","permalink":"/tensorflow/docs/config/environment","draft":false,"unlisted":false,"editUrl":"https://github.com/iCodePoet/tensorflow/tree/master/docs/docs/config/environment.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"\uc2dc\uc791 \uac00\uc774\ub4dc","permalink":"/tensorflow/docs/usage/getting-started"},"next":{"title":"\ucf54\ub4dc \uc77d\uae30 \uc21c\uc11c","permalink":"/tensorflow/docs/code-walkthrough/reading-order"}}');var r=d(4848),l=d(8453);const i={sidebar_position:1},c="\ud658\uacbd \uc124\uc815",t={},h=[{value:"\uc8fc\uc694 \ud658\uacbd \ubcc0\uc218",id:"\uc8fc\uc694-\ud658\uacbd-\ubcc0\uc218",level:2},{value:"TensorFlow \ud575\uc2ec \ud658\uacbd \ubcc0\uc218",id:"tensorflow-\ud575\uc2ec-\ud658\uacbd-\ubcc0\uc218",level:3},{value:"GPU/CUDA \ud658\uacbd \ubcc0\uc218",id:"gpucuda-\ud658\uacbd-\ubcc0\uc218",level:3},{value:"XLA \ucef4\ud30c\uc77c\ub7ec \ud658\uacbd \ubcc0\uc218",id:"xla-\ucef4\ud30c\uc77c\ub7ec-\ud658\uacbd-\ubcc0\uc218",level:3},{value:"\uacb0\uc815\ub860\uc801 \uc2e4\ud589 \ud658\uacbd \ubcc0\uc218",id:"\uacb0\uc815\ub860\uc801-\uc2e4\ud589-\ud658\uacbd-\ubcc0\uc218",level:3},{value:"\ub514\ubc84\uadf8 \ud658\uacbd \ubcc0\uc218",id:"\ub514\ubc84\uadf8-\ud658\uacbd-\ubcc0\uc218",level:3},{value:"Python\uc5d0\uc11c \uc124\uc815\ud558\uae30",id:"python\uc5d0\uc11c-\uc124\uc815\ud558\uae30",level:2},{value:"GPU \uba54\ubaa8\ub9ac \uad00\ub9ac",id:"gpu-\uba54\ubaa8\ub9ac-\uad00\ub9ac",level:3},{value:"\ub514\ubc14\uc774\uc2a4 \uac00\uc2dc\uc131",id:"\ub514\ubc14\uc774\uc2a4-\uac00\uc2dc\uc131",level:3},{value:"\uc2a4\ub808\ub4dc \uc124\uc815",id:"\uc2a4\ub808\ub4dc-\uc124\uc815",level:3},{value:"\ud63c\ud569 \uc815\ubc00\ub3c4 \ud559\uc2b5",id:"\ud63c\ud569-\uc815\ubc00\ub3c4-\ud559\uc2b5",level:3},{value:"\ube4c\ub4dc \uad6c\uc131 (configure.py)",id:"\ube4c\ub4dc-\uad6c\uc131-configurepy",level:2},{value:"\uc8fc\uc694 \uad6c\uc131 \uc9c8\ubb38",id:"\uc8fc\uc694-\uad6c\uc131-\uc9c8\ubb38",level:3},{value:"Bazel \ube4c\ub4dc \uc635\uc158 (.bazelrc)",id:"bazel-\ube4c\ub4dc-\uc635\uc158-bazelrc",level:2},{value:"\uc8fc\uc694 \ube4c\ub4dc \uad6c\uc131",id:"\uc8fc\uc694-\ube4c\ub4dc-\uad6c\uc131",level:3},{value:"\uc790\uc8fc \uc0ac\uc6a9\ud558\ub294 \ud50c\ub798\uadf8",id:"\uc790\uc8fc-\uc0ac\uc6a9\ud558\ub294-\ud50c\ub798\uadf8",level:3},{value:"\uad8c\uc7a5 \uc124\uc815 \uc2dc\ub098\ub9ac\uc624",id:"\uad8c\uc7a5-\uc124\uc815-\uc2dc\ub098\ub9ac\uc624",level:2},{value:"\uac1c\ubc1c \ud658\uacbd",id:"\uac1c\ubc1c-\ud658\uacbd",level:3},{value:"\ud504\ub85c\ub355\uc158 \ud658\uacbd",id:"\ud504\ub85c\ub355\uc158-\ud658\uacbd",level:3},{value:"\ub514\ubc84\uae45 \ud658\uacbd",id:"\ub514\ubc84\uae45-\ud658\uacbd",level:3},{value:"\ubd84\uc0b0 \ud559\uc2b5 \ud658\uacbd",id:"\ubd84\uc0b0-\ud559\uc2b5-\ud658\uacbd",level:3},{value:"\ud658\uacbd \ubcc0\uc218 \uac80\uc99d",id:"\ud658\uacbd-\ubcc0\uc218-\uac80\uc99d",level:2}];function o(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,l.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"\ud658\uacbd-\uc124\uc815",children:"\ud658\uacbd \uc124\uc815"})}),"\n",(0,r.jsx)(n.p,{children:"TensorFlow\uc758 \ud658\uacbd \ubcc0\uc218, \ube4c\ub4dc \uad6c\uc131, \ub7f0\ud0c0\uc784 \uc124\uc815\uc744 \uc124\uba85\ud569\ub2c8\ub2e4."}),"\n",(0,r.jsx)(n.h2,{id:"\uc8fc\uc694-\ud658\uacbd-\ubcc0\uc218",children:"\uc8fc\uc694 \ud658\uacbd \ubcc0\uc218"}),"\n",(0,r.jsx)(n.h3,{id:"tensorflow-\ud575\uc2ec-\ud658\uacbd-\ubcc0\uc218",children:"TensorFlow \ud575\uc2ec \ud658\uacbd \ubcc0\uc218"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"\ud658\uacbd \ubcc0\uc218"}),(0,r.jsx)(n.th,{children:"\uc124\uba85"}),(0,r.jsx)(n.th,{children:"\uae30\ubcf8\uac12"}),(0,r.jsx)(n.th,{children:"\uc608\uc2dc"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"TF_CPP_MIN_LOG_LEVEL"})}),(0,r.jsx)(n.td,{children:"\ub85c\uadf8 \ub808\ubca8 \uc124\uc815"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"0"})}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"0"}),"=\ubaa8\ub450, ",(0,r.jsx)(n.code,{children:"1"}),"=INFO \uc228\uae40, ",(0,r.jsx)(n.code,{children:"2"}),"=WARNING \uc228\uae40, ",(0,r.jsx)(n.code,{children:"3"}),"=ERROR \uc228\uae40"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"TF_FORCE_GPU_ALLOW_GROWTH"})}),(0,r.jsx)(n.td,{children:"GPU \uba54\ubaa8\ub9ac \uc810\uc9c4\uc801 \ud560\ub2f9"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"false"})}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"true"}),", ",(0,r.jsx)(n.code,{children:"false"})]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"TF_GPU_THREAD_MODE"})}),(0,r.jsx)(n.td,{children:"GPU \uc2a4\ub808\ub4dc \ubaa8\ub4dc"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"global"})}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"global"}),", ",(0,r.jsx)(n.code,{children:"gpu_private"})]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"TF_ENABLE_ONEDNN_OPTS"})}),(0,r.jsx)(n.td,{children:"oneDNN \ucd5c\uc801\ud654 \ud65c\uc131\ud654"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"1"})}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"0"}),", ",(0,r.jsx)(n.code,{children:"1"})]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"TF_NUM_INTEROP_THREADS"})}),(0,r.jsx)(n.td,{children:"op \uac04 \ubcd1\ub82c \ucc98\ub9ac \uc2a4\ub808\ub4dc \uc218"}),(0,r.jsx)(n.td,{children:"\uc790\ub3d9"}),(0,r.jsx)(n.td,{children:"\uc22b\uc790"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"TF_NUM_INTRAOP_THREADS"})}),(0,r.jsx)(n.td,{children:"op \ub0b4 \ubcd1\ub82c \ucc98\ub9ac \uc2a4\ub808\ub4dc \uc218"}),(0,r.jsx)(n.td,{children:"\uc790\ub3d9"}),(0,r.jsx)(n.td,{children:"\uc22b\uc790"})]})]})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# \uc608\uc2dc: \ub85c\uadf8 \ub808\ubca8 \uc124\uc815\nexport TF_CPP_MIN_LOG_LEVEL=2  # WARNING \uc774\uc0c1\ub9cc \ucd9c\ub825\n\n# \uc608\uc2dc: GPU \uba54\ubaa8\ub9ac \uc810\uc9c4\uc801 \ud560\ub2f9\nexport TF_FORCE_GPU_ALLOW_GROWTH=true\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"gpucuda-\ud658\uacbd-\ubcc0\uc218",children:"GPU/CUDA \ud658\uacbd \ubcc0\uc218"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"\ud658\uacbd \ubcc0\uc218"}),(0,r.jsx)(n.th,{children:"\uc124\uba85"}),(0,r.jsx)(n.th,{children:"\uc608\uc2dc"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"CUDA_VISIBLE_DEVICES"})}),(0,r.jsx)(n.td,{children:"\ubcf4\uc774\ub294 GPU \uc9c0\uc815"}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"0"}),", ",(0,r.jsx)(n.code,{children:"0,1"}),", ",(0,r.jsx)(n.code,{children:"-1"})," (GPU \ube44\ud65c\uc131\ud654)"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"TF_CUDA_PATHS"})}),(0,r.jsx)(n.td,{children:"CUDA \uacbd\ub85c"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"/usr/local/cuda"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"TF_CUDNN_PATHS"})}),(0,r.jsx)(n.td,{children:"cuDNN \uacbd\ub85c"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"/usr/local/cuda"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"TF_GPU_ALLOCATOR"})}),(0,r.jsx)(n.td,{children:"GPU \uba54\ubaa8\ub9ac \ud560\ub2f9\uae30"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"cuda_malloc_async"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"TF_CUDA_HOST_MEM_LIMIT_IN_MB"})}),(0,r.jsx)(n.td,{children:"\ud638\uc2a4\ud2b8 \uba54\ubaa8\ub9ac \uc81c\ud55c"}),(0,r.jsx)(n.td,{children:"\uc22b\uc790"})]})]})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# GPU 0\ubc88\ub9cc \uc0ac\uc6a9\nexport CUDA_VISIBLE_DEVICES=0\n\n# GPU \ube44\ud65c\uc131\ud654\nexport CUDA_VISIBLE_DEVICES=-1\n\n# \uc5ec\ub7ec GPU \uc0ac\uc6a9\nexport CUDA_VISIBLE_DEVICES=0,1,2\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"xla-\ucef4\ud30c\uc77c\ub7ec-\ud658\uacbd-\ubcc0\uc218",children:"XLA \ucef4\ud30c\uc77c\ub7ec \ud658\uacbd \ubcc0\uc218"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"\ud658\uacbd \ubcc0\uc218"}),(0,r.jsx)(n.th,{children:"\uc124\uba85"}),(0,r.jsx)(n.th,{children:"\uc608\uc2dc"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"TF_XLA_FLAGS"})}),(0,r.jsx)(n.td,{children:"XLA \ucef4\ud30c\uc77c\ub7ec \ud50c\ub798\uadf8"}),(0,r.jsx)(n.td,{children:"\uc544\ub798 \ucc38\uc870"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"XLA_FLAGS"})}),(0,r.jsx)(n.td,{children:"XLA \ucd94\uac00 \ud50c\ub798\uadf8"}),(0,r.jsx)(n.td,{children:"\uc544\ub798 \ucc38\uc870"})]})]})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'# XLA \uc790\ub3d9 \ud074\ub7ec\uc2a4\ud130\ub9c1 \ud65c\uc131\ud654\nexport TF_XLA_FLAGS="--tf_xla_auto_jit=2"\n\n# XLA \ub514\ubc84\uadf8 \ub85c\uae45\nexport TF_XLA_FLAGS="--tf_xla_auto_jit=2 --tf_xla_enable_lazy_compilation=false"\n\n# HLO \uadf8\ub798\ud504 \ub364\ud504\nexport XLA_FLAGS="--xla_dump_to=/tmp/xla_dump --xla_dump_hlo_as_text"\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"\uacb0\uc815\ub860\uc801-\uc2e4\ud589-\ud658\uacbd-\ubcc0\uc218",children:"\uacb0\uc815\ub860\uc801 \uc2e4\ud589 \ud658\uacbd \ubcc0\uc218"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"\ud658\uacbd \ubcc0\uc218"}),(0,r.jsx)(n.th,{children:"\uc124\uba85"}),(0,r.jsx)(n.th,{children:"\uc608\uc2dc"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"TF_DETERMINISTIC_OPS"})}),(0,r.jsx)(n.td,{children:"\uacb0\uc815\ub860\uc801 \uc5f0\uc0b0 \uac15\uc81c"}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"1"}),", ",(0,r.jsx)(n.code,{children:"0"})]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"TF_CUDNN_DETERMINISTIC"})}),(0,r.jsx)(n.td,{children:"cuDNN \uacb0\uc815\ub860\uc801 \ubaa8\ub4dc"}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"1"}),", ",(0,r.jsx)(n.code,{children:"0"})]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"PYTHONHASHSEED"})}),(0,r.jsx)(n.td,{children:"Python \ud574\uc2dc \uc2dc\ub4dc"}),(0,r.jsx)(n.td,{children:"\uc22b\uc790"})]})]})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# \uc7ac\ud604 \uac00\ub2a5\ud55c \ud559\uc2b5 \uc124\uc815\nexport TF_DETERMINISTIC_OPS=1\nexport TF_CUDNN_DETERMINISTIC=1\nexport PYTHONHASHSEED=42\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"\ub514\ubc84\uadf8-\ud658\uacbd-\ubcc0\uc218",children:"\ub514\ubc84\uadf8 \ud658\uacbd \ubcc0\uc218"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"\ud658\uacbd \ubcc0\uc218"}),(0,r.jsx)(n.th,{children:"\uc124\uba85"}),(0,r.jsx)(n.th,{children:"\uc608\uc2dc"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"TF_DUMP_GRAPH_PREFIX"})}),(0,r.jsx)(n.td,{children:"\uadf8\ub798\ud504 \ub364\ud504 \uacbd\ub85c"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"/tmp/tf_graphs"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"TF_CPP_VMODULE"})}),(0,r.jsx)(n.td,{children:"\uc0c1\uc138 \ubaa8\ub4c8 \ub85c\uae45"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"module_name=level"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"TF_CPP_MIN_VLOG_LEVEL"})}),(0,r.jsx)(n.td,{children:"\uc0c1\uc138 \ub85c\uadf8 \ub808\ubca8"}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"0"}),", ",(0,r.jsx)(n.code,{children:"1"}),", ",(0,r.jsx)(n.code,{children:"2"})]})]})]})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# \uadf8\ub798\ud504 \ub364\ud504 \ud65c\uc131\ud654\nexport TF_DUMP_GRAPH_PREFIX=/tmp/tf_graphs\n\n# \uc0c1\uc138 \ub85c\uae45 \ud65c\uc131\ud654\nexport TF_CPP_MIN_VLOG_LEVEL=1\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"python\uc5d0\uc11c-\uc124\uc815\ud558\uae30",children:"Python\uc5d0\uc11c \uc124\uc815\ud558\uae30"}),"\n",(0,r.jsx)(n.h3,{id:"gpu-\uba54\ubaa8\ub9ac-\uad00\ub9ac",children:"GPU \uba54\ubaa8\ub9ac \uad00\ub9ac"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"import tensorflow as tf\n\n# \uba54\ubaa8\ub9ac \uc99d\uac00 \ud5c8\uc6a9\ngpus = tf.config.list_physical_devices('GPU')\nif gpus:\n    for gpu in gpus:\n        tf.config.experimental.set_memory_growth(gpu, True)\n\n# \ub610\ub294 \uba54\ubaa8\ub9ac \uc81c\ud55c \uc124\uc815\nif gpus:\n    tf.config.set_logical_device_configuration(\n        gpus[0],\n        [tf.config.LogicalDeviceConfiguration(memory_limit=4096)]  # 4GB\n    )\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"\ub514\ubc14\uc774\uc2a4-\uac00\uc2dc\uc131",children:"\ub514\ubc14\uc774\uc2a4 \uac00\uc2dc\uc131"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"import tensorflow as tf\n\n# \ud2b9\uc815 GPU\ub9cc \uc0ac\uc6a9\ngpus = tf.config.list_physical_devices('GPU')\nif len(gpus) > 1:\n    tf.config.set_visible_devices(gpus[0], 'GPU')  # GPU 0\ub9cc\n\n# GPU \ube44\ud65c\uc131\ud654\ntf.config.set_visible_devices([], 'GPU')\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"\uc2a4\ub808\ub4dc-\uc124\uc815",children:"\uc2a4\ub808\ub4dc \uc124\uc815"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"import tensorflow as tf\n\n# op \uac04 \ubcd1\ub82c \ucc98\ub9ac \uc2a4\ub808\ub4dc\ntf.config.threading.set_inter_op_parallelism_threads(4)\n\n# op \ub0b4 \ubcd1\ub82c \ucc98\ub9ac \uc2a4\ub808\ub4dc\ntf.config.threading.set_intra_op_parallelism_threads(4)\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"\ud63c\ud569-\uc815\ubc00\ub3c4-\ud559\uc2b5",children:"\ud63c\ud569 \uc815\ubc00\ub3c4 \ud559\uc2b5"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"import tensorflow as tf\n\n# \ud63c\ud569 \uc815\ubc00\ub3c4 \uc815\ucc45 \uc124\uc815\ntf.keras.mixed_precision.set_global_policy('mixed_float16')\n\n# \uc6d0\ub798\ub300\ub85c \ubcf5\uc6d0\ntf.keras.mixed_precision.set_global_policy('float32')\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"\ube4c\ub4dc-\uad6c\uc131-configurepy",children:"\ube4c\ub4dc \uad6c\uc131 (configure.py)"}),"\n",(0,r.jsx)(n.p,{children:"TensorFlow\ub97c \uc18c\uc2a4\uc5d0\uc11c \ube4c\ub4dc\ud560 \ub54c \uc0ac\uc6a9\ud558\ub294 \uc8fc\uc694 \uc635\uc158\uc785\ub2c8\ub2e4:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# \uad6c\uc131 \uc2e4\ud589\npython configure.py\n"})}),"\n",(0,r.jsx)(n.h3,{id:"\uc8fc\uc694-\uad6c\uc131-\uc9c8\ubb38",children:"\uc8fc\uc694 \uad6c\uc131 \uc9c8\ubb38"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"\uc9c8\ubb38"}),(0,r.jsx)(n.th,{children:"\uc124\uba85"}),(0,r.jsx)(n.th,{children:"\uad8c\uc7a5\uac12"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Python \uacbd\ub85c"}),(0,r.jsx)(n.td,{children:"Python \uc778\ud130\ud504\ub9ac\ud130 \uc704\uce58"}),(0,r.jsx)(n.td,{children:"\uc790\ub3d9 \uac10\uc9c0"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"CUDA \uc9c0\uc6d0"}),(0,r.jsx)(n.td,{children:"GPU \uc9c0\uc6d0 \ube4c\ub4dc"}),(0,r.jsx)(n.td,{children:"Y (GPU \uc0ac\uc6a9 \uc2dc)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"CUDA \ubc84\uc804"}),(0,r.jsx)(n.td,{children:"CUDA \ud234\ud0b7 \ubc84\uc804"}),(0,r.jsx)(n.td,{children:"\uc2dc\uc2a4\ud15c\uc5d0 \ub530\ub77c"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"cuDNN \ubc84\uc804"}),(0,r.jsx)(n.td,{children:"cuDNN \ub77c\uc774\ube0c\ub7ec\ub9ac \ubc84\uc804"}),(0,r.jsx)(n.td,{children:"\uc2dc\uc2a4\ud15c\uc5d0 \ub530\ub77c"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"TensorRT \uc9c0\uc6d0"}),(0,r.jsx)(n.td,{children:"TensorRT \ucd5c\uc801\ud654"}),(0,r.jsx)(n.td,{children:"\uc120\ud0dd\uc0ac\ud56d"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"ROCm \uc9c0\uc6d0"}),(0,r.jsx)(n.td,{children:"AMD GPU \uc9c0\uc6d0"}),(0,r.jsx)(n.td,{children:"AMD GPU \uc0ac\uc6a9 \uc2dc"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"\ucd5c\uc801\ud654 \ud50c\ub798\uadf8"}),(0,r.jsx)(n.td,{children:"\ucef4\ud30c\uc77c\ub7ec \ucd5c\uc801\ud654"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"-march=native"})})]})]})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"bazel-\ube4c\ub4dc-\uc635\uc158-bazelrc",children:"Bazel \ube4c\ub4dc \uc635\uc158 (.bazelrc)"}),"\n",(0,r.jsx)(n.h3,{id:"\uc8fc\uc694-\ube4c\ub4dc-\uad6c\uc131",children:"\uc8fc\uc694 \ube4c\ub4dc \uad6c\uc131"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# CPU \uc804\uc6a9 \ube4c\ub4dc\nbazel build --config=opt //tensorflow/tools/pip_package:wheel\n\n# CUDA \ube4c\ub4dc\nbazel build --config=cuda //tensorflow/tools/pip_package:wheel\n\n# ROCm \ube4c\ub4dc\nbazel build --config=rocm //tensorflow/tools/pip_package:wheel\n\n# \ub514\ubc84\uadf8 \ube4c\ub4dc\nbazel build --config=dbg //tensorflow/tools/pip_package:wheel\n\n# sanitizer \ube4c\ub4dc\nbazel build --config=asan //tensorflow/tools/pip_package:wheel\n"})}),"\n",(0,r.jsx)(n.h3,{id:"\uc790\uc8fc-\uc0ac\uc6a9\ud558\ub294-\ud50c\ub798\uadf8",children:"\uc790\uc8fc \uc0ac\uc6a9\ud558\ub294 \ud50c\ub798\uadf8"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# \ubcd1\ub82c \uc791\uc5c5 \uc218 \uc124\uc815\nbazel build --jobs=16\n\n# \uba54\ubaa8\ub9ac \uc81c\ud55c\nbazel build --local_ram_resources=HOST_RAM*.5\n\n# \uce90\uc2dc \ub514\ub809\ud1a0\ub9ac\nbazel build --disk_cache=/path/to/cache\n\n# \uc6d0\uaca9 \uce90\uc2dc\nbazel build --remote_cache=grpc://cache.example.com\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"\uad8c\uc7a5-\uc124\uc815-\uc2dc\ub098\ub9ac\uc624",children:"\uad8c\uc7a5 \uc124\uc815 \uc2dc\ub098\ub9ac\uc624"}),"\n",(0,r.jsx)(n.h3,{id:"\uac1c\ubc1c-\ud658\uacbd",children:"\uac1c\ubc1c \ud658\uacbd"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# \ub85c\uadf8 \ud45c\uc2dc, \uba54\ubaa8\ub9ac \uc810\uc9c4\uc801 \ud560\ub2f9\nexport TF_CPP_MIN_LOG_LEVEL=0\nexport TF_FORCE_GPU_ALLOW_GROWTH=true\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"import tensorflow as tf\n\n# \uc989\uc2dc \uc2e4\ud589 \ud65c\uc131\ud654 (\uae30\ubcf8\uac12)\ntf.config.run_functions_eagerly(True)\n\n# \uba54\ubaa8\ub9ac \uc99d\uac00 \uc124\uc815\ngpus = tf.config.list_physical_devices('GPU')\nfor gpu in gpus:\n    tf.config.experimental.set_memory_growth(gpu, True)\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"\ud504\ub85c\ub355\uc158-\ud658\uacbd",children:"\ud504\ub85c\ub355\uc158 \ud658\uacbd"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'# \ucd5c\uc18c \ub85c\uae45\nexport TF_CPP_MIN_LOG_LEVEL=2\n\n# XLA \ucd5c\uc801\ud654\nexport TF_XLA_FLAGS="--tf_xla_auto_jit=2"\n\n# GPU \uba54\ubaa8\ub9ac \uc804\uccb4 \ud560\ub2f9 (\ub354 \ube60\ub984)\nexport TF_FORCE_GPU_ALLOW_GROWTH=false\n'})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"import tensorflow as tf\n\n# \uadf8\ub798\ud504 \uc2e4\ud589 (tf.function \uc790\ub3d9 \uc801\uc6a9\ub428)\ntf.config.run_functions_eagerly(False)\n\n# \ud63c\ud569 \uc815\ubc00\ub3c4\ub85c \uc131\ub2a5 \ud5a5\uc0c1\ntf.keras.mixed_precision.set_global_policy('mixed_float16')\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"\ub514\ubc84\uae45-\ud658\uacbd",children:"\ub514\ubc84\uae45 \ud658\uacbd"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# \ubaa8\ub4e0 \ub85c\uadf8 \ud45c\uc2dc\nexport TF_CPP_MIN_LOG_LEVEL=0\nexport TF_CPP_MIN_VLOG_LEVEL=1\n\n# \uadf8\ub798\ud504 \ub364\ud504\nexport TF_DUMP_GRAPH_PREFIX=/tmp/tf_debug\n\n# \uacb0\uc815\ub860\uc801 \uc2e4\ud589 (\uc7ac\ud604\uc131)\nexport TF_DETERMINISTIC_OPS=1\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"import tensorflow as tf\n\n# \uc22b\uc790 \uac80\uc0ac \ud65c\uc131\ud654\ntf.debugging.enable_check_numerics()\n\n# \uc989\uc2dc \uc2e4\ud589 \uac15\uc81c\ntf.config.run_functions_eagerly(True)\n\n# \uc7a5\uce58 \ubc30\uce58 \ub85c\uae45\ntf.debugging.set_log_device_placement(True)\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"\ubd84\uc0b0-\ud559\uc2b5-\ud658\uacbd",children:"\ubd84\uc0b0 \ud559\uc2b5 \ud658\uacbd"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'# \ubd84\uc0b0 \ud658\uacbd \ubcc0\uc218\nexport TF_CONFIG=\'{"cluster":{"worker":["host1:port","host2:port"]},"task":{"type":"worker","index":0}}\'\n\n# NCCL \uc124\uc815\nexport NCCL_DEBUG=INFO\nexport NCCL_IB_DISABLE=0\n'})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"import tensorflow as tf\n\n# \ubd84\uc0b0 \uc804\ub7b5 \uc124\uc815\nstrategy = tf.distribute.MirroredStrategy()\n\n# \ub610\ub294 \uba40\ud2f0 \uc6cc\ucee4\nstrategy = tf.distribute.MultiWorkerMirroredStrategy()\n\nwith strategy.scope():\n    model = create_model()\n    model.compile(...)\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"\ud658\uacbd-\ubcc0\uc218-\uac80\uc99d",children:"\ud658\uacbd \ubcc0\uc218 \uac80\uc99d"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'import os\nimport tensorflow as tf\n\ndef print_tf_config():\n    """TensorFlow \uc124\uc815 \ucd9c\ub825"""\n    print(f"TensorFlow \ubc84\uc804: {tf.__version__}")\n    print(f"Eager \uc2e4\ud589: {tf.executing_eagerly()}")\n    print(f"GPU \uc7a5\uce58: {tf.config.list_physical_devices(\'GPU\')}")\n    print(f"CPU \uc7a5\uce58: {tf.config.list_physical_devices(\'CPU\')}")\n\n    # \ud658\uacbd \ubcc0\uc218 \ud655\uc778\n    env_vars = [\n        \'TF_CPP_MIN_LOG_LEVEL\',\n        \'TF_FORCE_GPU_ALLOW_GROWTH\',\n        \'CUDA_VISIBLE_DEVICES\',\n        \'TF_XLA_FLAGS\',\n        \'TF_DETERMINISTIC_OPS\'\n    ]\n\n    print("\\n\ud658\uacbd \ubcc0\uc218:")\n    for var in env_vars:\n        value = os.environ.get(var, \'(\uc124\uc815\ub418\uc9c0 \uc54a\uc74c)\')\n        print(f"  {var}: {value}")\n\nprint_tf_config()\n'})})]})}function x(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}}}]);