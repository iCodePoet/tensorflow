"use strict";(globalThis.webpackChunktensorflow_docs=globalThis.webpackChunktensorflow_docs||[]).push([[5117],{9784(e,n,i){i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>d,default:()=>h,frontMatter:()=>l,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"config/environment","title":"\ud658\uacbd \uc124\uc815","description":"TensorFlow\uc758 \ub3d9\uc791\uc744 \uc81c\uc5b4\ud558\ub294 \ud658\uacbd \ubcc0\uc218\uc640 \uc124\uc815 \uc635\uc158\uc744 \uc124\uba85\ud569\ub2c8\ub2e4.","source":"@site/docs/config/environment.md","sourceDirName":"config","slug":"/config/environment","permalink":"/tensorflow/docs/config/environment","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"\uc2dc\uc791 \uac00\uc774\ub4dc","permalink":"/tensorflow/docs/usage/getting-started"},"next":{"title":"\ucf54\ub4dc \uc77d\uae30 \uc21c\uc11c","permalink":"/tensorflow/docs/code-walkthrough/reading-order"}}');var s=i(4848),t=i(8453);const l={sidebar_position:1},d="\ud658\uacbd \uc124\uc815",o={},c=[{value:"\ud658\uacbd \ubcc0\uc218",id:"\ud658\uacbd-\ubcc0\uc218",level:2},{value:"GPU \uad00\ub828",id:"gpu-\uad00\ub828",level:3},{value:"\ub85c\uae45 \uad00\ub828",id:"\ub85c\uae45-\uad00\ub828",level:3},{value:"XLA \uad00\ub828",id:"xla-\uad00\ub828",level:3},{value:"Python \uc124\uc815 API",id:"python-\uc124\uc815-api",level:2},{value:"GPU \uc124\uc815",id:"gpu-\uc124\uc815",level:3},{value:"\uac00\uc0c1 GPU \uc0dd\uc131",id:"\uac00\uc0c1-gpu-\uc0dd\uc131",level:3},{value:"\uc2e4\ud589 \ubaa8\ub4dc \uc124\uc815",id:"\uc2e4\ud589-\ubaa8\ub4dc-\uc124\uc815",level:3},{value:"\ub514\ubc14\uc774\uc2a4 \ubc30\uce58 \ub85c\uae45",id:"\ub514\ubc14\uc774\uc2a4-\ubc30\uce58-\ub85c\uae45",level:3},{value:"\uc131\ub2a5 \uad00\ub828 \uc124\uc815",id:"\uc131\ub2a5-\uad00\ub828-\uc124\uc815",level:2},{value:"\uc2a4\ub808\ub4dc \uc124\uc815",id:"\uc2a4\ub808\ub4dc-\uc124\uc815",level:3},{value:"Mixed Precision",id:"mixed-precision",level:3},{value:"\ubd84\uc0b0 \ud559\uc2b5 \uc124\uc815",id:"\ubd84\uc0b0-\ud559\uc2b5-\uc124\uc815",level:2},{value:"MirroredStrategy",id:"mirroredstrategy",level:3},{value:"MultiWorkerMirroredStrategy",id:"multiworkermirroredstrategy",level:3},{value:"Keras \uc124\uc815",id:"keras-\uc124\uc815",level:2},{value:"\ubc31\uc5d4\ub4dc \uc124\uc815",id:"\ubc31\uc5d4\ub4dc-\uc124\uc815",level:3},{value:"\uc804\uc5ed \uc124\uc815",id:"\uc804\uc5ed-\uc124\uc815",level:3},{value:"\uc790\uc8fc \uc0ac\uc6a9\ud558\ub294 \uc124\uc815 \uc870\ud569",id:"\uc790\uc8fc-\uc0ac\uc6a9\ud558\ub294-\uc124\uc815-\uc870\ud569",level:2},{value:"\uac1c\ubc1c/\ub514\ubc84\uae45 \ud658\uacbd",id:"\uac1c\ubc1c\ub514\ubc84\uae45-\ud658\uacbd",level:3},{value:"\ud504\ub85c\ub355\uc158 \ud658\uacbd",id:"\ud504\ub85c\ub355\uc158-\ud658\uacbd",level:3},{value:"\uba54\ubaa8\ub9ac \uc81c\ud55c \ud658\uacbd",id:"\uba54\ubaa8\ub9ac-\uc81c\ud55c-\ud658\uacbd",level:3},{value:"\uc124\uc815 \uc6b0\uc120\uc21c\uc704",id:"\uc124\uc815-\uc6b0\uc120\uc21c\uc704",level:2},{value:"\ubb38\uc81c \ud574\uacb0",id:"\ubb38\uc81c-\ud574\uacb0",level:2},{value:"GPU \uc778\uc2dd \uc548 \ub428",id:"gpu-\uc778\uc2dd-\uc548-\ub428",level:3},{value:"\uba54\ubaa8\ub9ac \ubd80\uc871 (OOM)",id:"\uba54\ubaa8\ub9ac-\ubd80\uc871-oom",level:3},{value:"\ub290\ub9b0 \ud559\uc2b5 \uc18d\ub3c4",id:"\ub290\ub9b0-\ud559\uc2b5-\uc18d\ub3c4",level:3}];function a(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",mermaid:"mermaid",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"\ud658\uacbd-\uc124\uc815",children:"\ud658\uacbd \uc124\uc815"})}),"\n",(0,s.jsx)(n.p,{children:"TensorFlow\uc758 \ub3d9\uc791\uc744 \uc81c\uc5b4\ud558\ub294 \ud658\uacbd \ubcc0\uc218\uc640 \uc124\uc815 \uc635\uc158\uc744 \uc124\uba85\ud569\ub2c8\ub2e4."}),"\n",(0,s.jsx)(n.h2,{id:"\ud658\uacbd-\ubcc0\uc218",children:"\ud658\uacbd \ubcc0\uc218"}),"\n",(0,s.jsx)(n.h3,{id:"gpu-\uad00\ub828",children:"GPU \uad00\ub828"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"\ud658\uacbd \ubcc0\uc218"}),(0,s.jsx)(n.th,{children:"\uc124\uba85"}),(0,s.jsx)(n.th,{children:"\uc608\uc2dc"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"CUDA_VISIBLE_DEVICES"})}),(0,s.jsx)(n.td,{children:"\uc0ac\uc6a9\ud560 GPU \uc9c0\uc815"}),(0,s.jsxs)(n.td,{children:[(0,s.jsx)(n.code,{children:"0,1"})," (GPU 0, 1\ub9cc \uc0ac\uc6a9)"]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"TF_FORCE_GPU_ALLOW_GROWTH"})}),(0,s.jsx)(n.td,{children:"GPU \uba54\ubaa8\ub9ac \uc99d\uac00 \ud5c8\uc6a9"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"true"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"TF_GPU_ALLOCATOR"})}),(0,s.jsx)(n.td,{children:"GPU \uba54\ubaa8\ub9ac \ud560\ub2f9\uae30"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"cuda_malloc_async"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"TF_GPU_THREAD_MODE"})}),(0,s.jsx)(n.td,{children:"GPU \uc2a4\ub808\ub4dc \ubaa8\ub4dc"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"gpu_private"})})]})]})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# \ud2b9\uc815 GPU\ub9cc \uc0ac\uc6a9\nexport CUDA_VISIBLE_DEVICES=0,1\n\n# GPU \uba54\ubaa8\ub9ac \ub3d9\uc801 \ud560\ub2f9\nexport TF_FORCE_GPU_ALLOW_GROWTH=true\n"})}),"\n",(0,s.jsx)(n.h3,{id:"\ub85c\uae45-\uad00\ub828",children:"\ub85c\uae45 \uad00\ub828"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"\ud658\uacbd \ubcc0\uc218"}),(0,s.jsx)(n.th,{children:"\uc124\uba85"}),(0,s.jsx)(n.th,{children:"\uac12"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"TF_CPP_MIN_LOG_LEVEL"})}),(0,s.jsx)(n.td,{children:"C++ \ub85c\uadf8 \ub808\ubca8"}),(0,s.jsx)(n.td,{children:"0(\ubaa8\ub450), 1(INFO \uc81c\uc678), 2(WARNING \uc81c\uc678), 3(ERROR\ub9cc)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"TF_ENABLE_ONEDNN_OPTS"})}),(0,s.jsx)(n.td,{children:"oneDNN \ucd5c\uc801\ud654"}),(0,s.jsxs)(n.td,{children:[(0,s.jsx)(n.code,{children:"0"})," (\ube44\ud65c\uc131\ud654), ",(0,s.jsx)(n.code,{children:"1"})," (\ud65c\uc131\ud654)"]})]})]})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# \uacbd\uace0 \uba54\uc2dc\uc9c0 \uc228\uae30\uae30\nexport TF_CPP_MIN_LOG_LEVEL=2\n\n# oneDNN \ucd5c\uc801\ud654 \uba54\uc2dc\uc9c0 \uc228\uae30\uae30\nexport TF_ENABLE_ONEDNN_OPTS=0\n"})}),"\n",(0,s.jsx)(n.h3,{id:"xla-\uad00\ub828",children:"XLA \uad00\ub828"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"\ud658\uacbd \ubcc0\uc218"}),(0,s.jsx)(n.th,{children:"\uc124\uba85"}),(0,s.jsx)(n.th,{children:"\uc608\uc2dc"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"XLA_FLAGS"})}),(0,s.jsx)(n.td,{children:"XLA \ucef4\ud30c\uc77c\ub7ec \ud50c\ub798\uadf8"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"--xla_gpu_cuda_data_dir=/usr/local/cuda"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"TF_XLA_FLAGS"})}),(0,s.jsx)(n.td,{children:"TF-XLA \ud1b5\ud569 \ud50c\ub798\uadf8"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"--tf_xla_auto_jit=2"})})]})]})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'# XLA \uc790\ub3d9 \ud074\ub7ec\uc2a4\ud130\ub9c1 \ud65c\uc131\ud654\nexport TF_XLA_FLAGS="--tf_xla_auto_jit=2"\n'})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"python-\uc124\uc815-api",children:"Python \uc124\uc815 API"}),"\n",(0,s.jsx)(n.h3,{id:"gpu-\uc124\uc815",children:"GPU \uc124\uc815"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"import tensorflow as tf\n\n# \uc0ac\uc6a9 \uac00\ub2a5\ud55c GPU \ud655\uc778\ngpus = tf.config.list_physical_devices('GPU')\nprint(f\"GPU \uac1c\uc218: {len(gpus)}\")\n\n# GPU \uba54\ubaa8\ub9ac \uc99d\uac00 \ud5c8\uc6a9\nif gpus:\n    for gpu in gpus:\n        tf.config.experimental.set_memory_growth(gpu, True)\n\n# \uba54\ubaa8\ub9ac \uc81c\ud55c \uc124\uc815 (4GB\ub85c \uc81c\ud55c)\nif gpus:\n    tf.config.set_logical_device_configuration(\n        gpus[0],\n        [tf.config.LogicalDeviceConfiguration(memory_limit=4096)]\n    )\n\n# \ud2b9\uc815 GPU\ub9cc \ubcf4\uc774\uac8c \uc124\uc815\nif len(gpus) > 1:\n    tf.config.set_visible_devices(gpus[0], 'GPU')\n"})}),"\n",(0,s.jsx)(n.h3,{id:"\uac00\uc0c1-gpu-\uc0dd\uc131",children:"\uac00\uc0c1 GPU \uc0dd\uc131"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"# \ud558\ub098\uc758 \ubb3c\ub9ac GPU\ub97c \uc5ec\ub7ec \ub17c\ub9ac GPU\ub85c \ubd84\ud560\ngpus = tf.config.list_physical_devices('GPU')\nif gpus:\n    tf.config.set_logical_device_configuration(\n        gpus[0],\n        [\n            tf.config.LogicalDeviceConfiguration(memory_limit=2048),\n            tf.config.LogicalDeviceConfiguration(memory_limit=2048)\n        ]\n    )\n\nlogical_gpus = tf.config.list_logical_devices('GPU')\nprint(f\"\ub17c\ub9ac GPU \uac1c\uc218: {len(logical_gpus)}\")\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"\uc2e4\ud589-\ubaa8\ub4dc-\uc124\uc815",children:"\uc2e4\ud589 \ubaa8\ub4dc \uc124\uc815"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"import tensorflow as tf\n\n# Eager execution \uc0c1\ud0dc \ud655\uc778\nprint(tf.executing_eagerly())  # True (\uae30\ubcf8\uac12)\n\n# tf.function\uc744 eager \ubaa8\ub4dc\ub85c \uc2e4\ud589 (\ub514\ubc84\uae45\uc6a9)\ntf.config.run_functions_eagerly(True)\n\n# \ub2e4\uc2dc \uadf8\ub798\ud504 \ubaa8\ub4dc\ub85c \uc804\ud658\ntf.config.run_functions_eagerly(False)\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"\ub514\ubc14\uc774\uc2a4-\ubc30\uce58-\ub85c\uae45",children:"\ub514\ubc14\uc774\uc2a4 \ubc30\uce58 \ub85c\uae45"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"import tensorflow as tf\n\n# \uc5f0\uc0b0\uc774 \uc5b4\ub290 \ub514\ubc14\uc774\uc2a4\uc5d0\uc11c \uc2e4\ud589\ub418\ub294\uc9c0 \ub85c\uadf8\ntf.debugging.set_log_device_placement(True)\n\n# \ud14c\uc2a4\ud2b8\na = tf.constant([1.0, 2.0])\nb = tf.constant([3.0, 4.0])\nc = a + b  # \ub85c\uadf8\uc5d0 \ub514\ubc14\uc774\uc2a4 \uc815\ubcf4 \ucd9c\ub825\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"\uc131\ub2a5-\uad00\ub828-\uc124\uc815",children:"\uc131\ub2a5 \uad00\ub828 \uc124\uc815"}),"\n",(0,s.jsx)(n.h3,{id:"\uc2a4\ub808\ub4dc-\uc124\uc815",children:"\uc2a4\ub808\ub4dc \uc124\uc815"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"import tensorflow as tf\n\n# inter-op \ubcd1\ub82c\uc131 (\uc5f0\uc0b0 \uac04 \ubcd1\ub82c)\ntf.config.threading.set_inter_op_parallelism_threads(4)\n\n# intra-op \ubcd1\ub82c\uc131 (\uc5f0\uc0b0 \ub0b4 \ubcd1\ub82c)\ntf.config.threading.set_intra_op_parallelism_threads(4)\n\n# \ud604\uc7ac \uc124\uc815 \ud655\uc778\nprint(tf.config.threading.get_inter_op_parallelism_threads())\nprint(tf.config.threading.get_intra_op_parallelism_threads())\n"})}),"\n",(0,s.jsx)(n.h3,{id:"mixed-precision",children:"Mixed Precision"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"import tensorflow as tf\n\n# Mixed Precision \uc815\ucc45 \uc124\uc815\ntf.keras.mixed_precision.set_global_policy('mixed_float16')\n\n# \ud604\uc7ac \uc815\ucc45 \ud655\uc778\nprint(tf.keras.mixed_precision.global_policy())\n\n# \uae30\ubcf8\uac12\uc73c\ub85c \ubcf5\uc6d0\ntf.keras.mixed_precision.set_global_policy('float32')\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"\ubd84\uc0b0-\ud559\uc2b5-\uc124\uc815",children:"\ubd84\uc0b0 \ud559\uc2b5 \uc124\uc815"}),"\n",(0,s.jsx)(n.mermaid,{value:'graph TB\n    subgraph "\ubd84\uc0b0 \uc804\ub7b5"\n        MS[MirroredStrategy<br/>\ub2e8\uc77c \ub178\ub4dc \uba40\ud2f0 GPU]\n        MWS[MultiWorkerMirroredStrategy<br/>\uba40\ud2f0 \ub178\ub4dc]\n        PS[ParameterServerStrategy<br/>\ub300\uaddc\ubaa8 \ubd84\uc0b0]\n        TPU[TPUStrategy<br/>TPU \uc804\uc6a9]\n    end'}),"\n",(0,s.jsx)(n.h3,{id:"mirroredstrategy",children:"MirroredStrategy"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"import tensorflow as tf\n\n# \ubaa8\ub4e0 GPU \uc0ac\uc6a9\nstrategy = tf.distribute.MirroredStrategy()\n\n# \ud2b9\uc815 GPU\ub9cc \uc0ac\uc6a9\nstrategy = tf.distribute.MirroredStrategy(devices=[\"/gpu:0\", \"/gpu:1\"])\n\nprint(f\"\uc0ac\uc6a9 \uc911\uc778 \ub514\ubc14\uc774\uc2a4 \uc218: {strategy.num_replicas_in_sync}\")\n\n# \uc804\ub7b5 \ubc94\uc704 \ub0b4\uc5d0\uc11c \ubaa8\ub378 \uc0dd\uc131\nwith strategy.scope():\n    model = tf.keras.Sequential([\n        tf.keras.layers.Dense(128, activation='relu'),\n        tf.keras.layers.Dense(10)\n    ])\n    model.compile(optimizer='adam', loss='sparse_categorical_crossentropy')\n"})}),"\n",(0,s.jsx)(n.h3,{id:"multiworkermirroredstrategy",children:"MultiWorkerMirroredStrategy"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"import json\nimport os\nimport tensorflow as tf\n\n# \ud074\ub7ec\uc2a4\ud130 \uc124\uc815 (\ud658\uacbd \ubcc0\uc218\ub85c)\nos.environ['TF_CONFIG'] = json.dumps({\n    'cluster': {\n        'worker': ['worker0:2222', 'worker1:2222']\n    },\n    'task': {'type': 'worker', 'index': 0}\n})\n\nstrategy = tf.distribute.MultiWorkerMirroredStrategy()\n\nwith strategy.scope():\n    model = create_model()\n    model.compile(...)\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"keras-\uc124\uc815",children:"Keras \uc124\uc815"}),"\n",(0,s.jsx)(n.h3,{id:"\ubc31\uc5d4\ub4dc-\uc124\uc815",children:"\ubc31\uc5d4\ub4dc \uc124\uc815"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"import os\n\n# Keras \ubc31\uc5d4\ub4dc \uc124\uc815 (TensorFlow 2.x\uc5d0\uc11c\ub294 \uae30\ubcf8\uac12)\nos.environ['KERAS_BACKEND'] = 'tensorflow'\n"})}),"\n",(0,s.jsx)(n.h3,{id:"\uc804\uc5ed-\uc124\uc815",children:"\uc804\uc5ed \uc124\uc815"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"import tensorflow as tf\n\n# \uc774\ubbf8\uc9c0 \ub370\uc774\ud130 \ud615\uc2dd\ntf.keras.backend.set_image_data_format('channels_last')  # NHWC\n# \ub610\ub294\ntf.keras.backend.set_image_data_format('channels_first')  # NCHW\n\n# \ubd80\ub3d9\uc18c\uc218\uc810 \uc815\ubc00\ub3c4\ntf.keras.backend.set_floatx('float32')\n\n# epsilon \uac12 (\uc218\uce58 \uc548\uc815\uc131)\ntf.keras.backend.set_epsilon(1e-7)\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"\uc790\uc8fc-\uc0ac\uc6a9\ud558\ub294-\uc124\uc815-\uc870\ud569",children:"\uc790\uc8fc \uc0ac\uc6a9\ud558\ub294 \uc124\uc815 \uc870\ud569"}),"\n",(0,s.jsx)(n.h3,{id:"\uac1c\ubc1c\ub514\ubc84\uae45-\ud658\uacbd",children:"\uac1c\ubc1c/\ub514\ubc84\uae45 \ud658\uacbd"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"import tensorflow as tf\nimport os\n\n# \ub85c\uadf8 \ub808\ubca8 \uc124\uc815\nos.environ['TF_CPP_MIN_LOG_LEVEL'] = '0'  # \ubaa8\ub4e0 \ub85c\uadf8 \ud45c\uc2dc\n\n# Eager \ubaa8\ub4dc \uac15\uc81c\ntf.config.run_functions_eagerly(True)\n\n# \ub514\ubc14\uc774\uc2a4 \ubc30\uce58 \ub85c\uadf8\ntf.debugging.set_log_device_placement(True)\n\n# GPU \uba54\ubaa8\ub9ac \uc99d\uac00 \ud5c8\uc6a9\ngpus = tf.config.list_physical_devices('GPU')\nfor gpu in gpus:\n    tf.config.experimental.set_memory_growth(gpu, True)\n"})}),"\n",(0,s.jsx)(n.h3,{id:"\ud504\ub85c\ub355\uc158-\ud658\uacbd",children:"\ud504\ub85c\ub355\uc158 \ud658\uacbd"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"import tensorflow as tf\nimport os\n\n# \ubd88\ud544\uc694\ud55c \ub85c\uadf8 \uc228\uae30\uae30\nos.environ['TF_CPP_MIN_LOG_LEVEL'] = '2'\nos.environ['TF_ENABLE_ONEDNN_OPTS'] = '0'\n\n# \uadf8\ub798\ud504 \ubaa8\ub4dc \uc0ac\uc6a9\ntf.config.run_functions_eagerly(False)\n\n# Mixed Precision \ud65c\uc131\ud654\ntf.keras.mixed_precision.set_global_policy('mixed_float16')\n\n# XLA \ucef4\ud30c\uc77c \ud65c\uc131\ud654\nos.environ['TF_XLA_FLAGS'] = '--tf_xla_auto_jit=2'\n"})}),"\n",(0,s.jsx)(n.h3,{id:"\uba54\ubaa8\ub9ac-\uc81c\ud55c-\ud658\uacbd",children:"\uba54\ubaa8\ub9ac \uc81c\ud55c \ud658\uacbd"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"import tensorflow as tf\n\n# GPU \uba54\ubaa8\ub9ac \uc81c\ud55c\ngpus = tf.config.list_physical_devices('GPU')\nif gpus:\n    tf.config.set_logical_device_configuration(\n        gpus[0],\n        [tf.config.LogicalDeviceConfiguration(memory_limit=2048)]  # 2GB\n    )\n\n# \ub610\ub294 CPU\ub9cc \uc0ac\uc6a9\ntf.config.set_visible_devices([], 'GPU')\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"\uc124\uc815-\uc6b0\uc120\uc21c\uc704",children:"\uc124\uc815 \uc6b0\uc120\uc21c\uc704"}),"\n",(0,s.jsx)(n.mermaid,{value:'graph TB\n    subgraph "\uc124\uc815 \uc6b0\uc120\uc21c\uc704 (\ub192\uc74c \u2192 \ub0ae\uc74c)"\n        P1[Python API<br/>tf.config]\n        P2[\ud658\uacbd \ubcc0\uc218<br/>TF_*, CUDA_*]\n        P3[\uc2dc\uc2a4\ud15c \uae30\ubcf8\uac12]\n    end\n\n    P1 --\x3e P2 --\x3e P3'}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\ucc38\uace0"}),": Python API \uc124\uc815\uc740 \ud658\uacbd \ubcc0\uc218\ubcf4\ub2e4 \uc6b0\uc120\ud569\ub2c8\ub2e4. \ud504\ub85c\uadf8\ub7a8 \uc2dc\uc791 \uc2dc \uac00\ub2a5\ud55c \ube68\ub9ac \uc124\uc815\ud574\uc57c \ud569\ub2c8\ub2e4."]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"\ubb38\uc81c-\ud574\uacb0",children:"\ubb38\uc81c \ud574\uacb0"}),"\n",(0,s.jsx)(n.h3,{id:"gpu-\uc778\uc2dd-\uc548-\ub428",children:"GPU \uc778\uc2dd \uc548 \ub428"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"# CUDA \uc124\uce58 \ud655\uc778\nimport tensorflow as tf\nprint(tf.test.is_built_with_cuda())  # True\uc5ec\uc57c \ud568\nprint(tf.config.list_physical_devices('GPU'))\n\n# \ub4dc\ub77c\uc774\ubc84 \ubc84\uc804 \ud655\uc778 (\ud130\ubbf8\ub110)\n# nvidia-smi\n"})}),"\n",(0,s.jsx)(n.h3,{id:"\uba54\ubaa8\ub9ac-\ubd80\uc871-oom",children:"\uba54\ubaa8\ub9ac \ubd80\uc871 (OOM)"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"# \ubc30\uce58 \ud06c\uae30 \uc904\uc774\uae30\n# \uba54\ubaa8\ub9ac \uc99d\uac00 \ud5c8\uc6a9\ngpus = tf.config.list_physical_devices('GPU')\nfor gpu in gpus:\n    tf.config.experimental.set_memory_growth(gpu, True)\n\n# \ub610\ub294 \uba54\ubaa8\ub9ac \uc81c\ud55c\ntf.config.set_logical_device_configuration(\n    gpus[0],\n    [tf.config.LogicalDeviceConfiguration(memory_limit=4096)]\n)\n"})}),"\n",(0,s.jsx)(n.h3,{id:"\ub290\ub9b0-\ud559\uc2b5-\uc18d\ub3c4",children:"\ub290\ub9b0 \ud559\uc2b5 \uc18d\ub3c4"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"# \ub370\uc774\ud130 \ud30c\uc774\ud504\ub77c\uc778 \ucd5c\uc801\ud654\ndataset = dataset.prefetch(tf.data.AUTOTUNE)\n\n# Mixed Precision \ud65c\uc131\ud654\ntf.keras.mixed_precision.set_global_policy('mixed_float16')\n\n# XLA \ucef4\ud30c\uc77c \ud65c\uc131\ud654\n@tf.function(jit_compile=True)\ndef train_step(...):\n    ...\n"})})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}}}]);